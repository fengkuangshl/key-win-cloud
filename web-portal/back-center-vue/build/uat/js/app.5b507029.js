(function(e){function t(t){for(var a,r,c=t[0],s=t[1],i=t[2],f=0,l=[];f<c.length;f++)r=c[f],Object.prototype.hasOwnProperty.call(u,r)&&u[r]&&l.push(u[r][0]),u[r]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);d&&d(t);while(l.length)l.shift()();return o.push.apply(o,i||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,r=1;r<n.length;r++){var c=n[r];0!==u[c]&&(a=!1)}a&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={app:0},u={app:0},o=[];function c(e){return s.p+"js/"+({home:"home",index:"index",login:"login",test:"test"}[e]||e)+"."+{home:"ebae0617",index:"6f35cc5e","chunk-ebff4324":"ec0886e2",login:"736f690d",test:"b0075290"}[e]+".js"}function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={index:1,"chunk-ebff4324":1,login:1,test:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var a="css/"+({home:"home",index:"index",login:"login",test:"test"}[e]||e)+"."+{home:"31d6cfe0",index:"e918922f","chunk-ebff4324":"d7655dcb",login:"202010c9",test:"01916674"}[e]+".css",u=s.p+a,o=document.getElementsByTagName("link"),c=0;c<o.length;c++){var i=o[c],f=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(f===a||f===u))return t()}var l=document.getElementsByTagName("style");for(c=0;c<l.length;c++){i=l[c],f=i.getAttribute("data-href");if(f===a||f===u)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var a=t&&t.target&&t.target.src||u,o=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=a,delete r[e],d.parentNode.removeChild(d),n(o)},d.href=u;var h=document.getElementsByTagName("head")[0];h.appendChild(d)})).then((function(){r[e]=0})));var a=u[e];if(0!==a)if(a)t.push(a[2]);else{var o=new Promise((function(t,n){a=u[e]=[t,n]}));t.push(a[2]=o);var i,f=document.createElement("script");f.charset="utf-8",f.timeout=120,s.nc&&f.setAttribute("nonce",s.nc),f.src=c(e);var l=new Error;i=function(t){f.onerror=f.onload=null,clearTimeout(d);var n=u[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",l.name="ChunkLoadError",l.type=a,l.request=r,n[1](l)}u[e]=void 0}};var d=setTimeout((function(){i({type:"timeout",target:f})}),12e4);f.onerror=f.onload=i,document.head.appendChild(f)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],f=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var d=f;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"034f":function(e,t,n){"use strict";n("ecfe")},"057b":function(e,t,n){"use strict";n("0fb7"),n("450d");var a=n("f529"),r=n.n(a),u=(n("d3b7"),n("bc3a")),o=n.n(u),c=n("8b99"),s=n("0613"),i=c["a"].devDomain;var f=o.a.create({baseURL:i,timeout:3e3});function l(e){var t=e.response;switch("Network Error"===e.message&&(t={data:{}},t.status=-1),t.status){case-1:e.message="网络异常，请稍后再试！";break;case 400:e.message=t.data.msg||"请求错误";break;case 401:s["b"].clear("access_token"),e.message="未授权，请登录";break;case 403:e.message="token值无效，请重新登录";break;case 404:e.message="请求地址出错: ".concat(t.config.url);break;case 408:e.message="请求超时";break;case 500:e.message="服务器内部错误";break;case 501:e.message="服务未实现";break;case 502:e.message="网关错误";break;case 503:e.message="服务不可用";break;case 504:e.message="网关超时";break;case 505:e.message="HTTP版本不受支持";break;default:e.message="其他情况"}return r.a.error(e.message),Promise.reject(e)}f.interceptors.request.use((function(e){if(e.headers=e.headers||{},e.headers["x-requested-with"]="XMLHttpRequest","/api-auth/oauth/token"===e.url)e.headers["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8";else{e.headers["Content-Type"]="application/json;charset=UTF-8";var t=localStorage.getItem("access_token");t&&(e.headers.Authorization="Bearer "+t)}return e}),(function(e){return l(e)})),f.interceptors.response.use((function(e){return e.data}),(function(e){return l(e)})),t["a"]=f},"0613":function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return i}));var a=n("2b0e"),r=n("2f62"),u=n("d4ec"),o=n("bee2"),c=(n("d3b7"),n("25f0"),n("e9c4"),function(){function e(t){Object(u["a"])(this,e),this.storage=t}return Object(o["a"])(e,[{key:"clear",value:function(e){this.storage.removeItem(e)}},{key:"save",value:function(e,t){void 0===t?this.storage.removeItem(e):null===t?this.storage.setItem(e,""):"string"===typeof t?this.storage.setItem(e,t):"number"===typeof t||"boolean"===typeof t?this.storage.setItem(e,t.toString()):this.storage.setItem(e,JSON.stringify(t))}},{key:"getAny",value:function(e){return this.storage.getItem(e)}},{key:"getStr",value:function(e){return this.getAny(e)||""}},{key:"getObj",value:function(e){var t=this.getAny(e);try{if(t&&"null"!==t&&"undefined"!==t&&"[object Object]"!==t)return JSON.parse(t||"")}catch(n){console.error("类型转换失败:"+t+" to JSON!",n)}}},{key:"forEach",value:function(e){for(var t=this.storage.length,n=0;n<t;n++){var a=this.storage.key(n);null!==a&&void 0!==a&&e(a,this.storage.getItem(a))}}}]),e}());a["default"].use(r["a"]);var s=new c(window.sessionStorage),i=new c(window.localStorage);t["a"]=new r["a"].Store({state:{},mutations:{},actions:{},modules:{}})},"507d":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("d4ec"),r=n("bee2"),u=n("262e"),o=n("2caf"),c=n("9ab4"),s=n("6fc5"),i=n("0613"),f=function(e){Object(u["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(a["a"])(this,n),t.apply(this,arguments)}return Object(r["a"])(n,[{key:"getMenus",get:function(){return this.menus}},{key:"CHANGE_MENU",value:function(e){this.menus=e}},{key:"changeMenu",value:function(e){console.log("action:"+e),this.CHANGE_MENU(e)}}]),n}(s["d"]);Object(c["a"])([s["c"]],f.prototype,"CHANGE_MENU",null),Object(c["a"])([s["a"]],f.prototype,"changeMenu",null),f=Object(c["a"])([Object(s["b"])({dynamic:!0,store:i["a"],name:"menu"})],f);var l=Object(s["e"])(f)},"82da":function(e,t,n){},"8b99":function(e,t,n){"use strict";var a={title:"key-win后台管理",activePath:"activePath",accessToken:"access_token",devDomain:"http://127.0.0.1:9200",uatDomain:"http://localhost:9200",prodDomain:"http://127.0.0.1:9200"};t["a"]=a},"8ea1":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return i}));var a=n("057b"),r=function(){return a["a"].get("api-auth/oauth/current/userinfo")},u=function(e){return a["a"].post("api-user/getSysUserByPaged",e)},o=function(e){return a["a"].get("api-user/users/updateEnabled",e)},c=function(e){return a["a"].get("api-user/users/"+e)},s=function(e){return a["a"].post("api-user/users/saveOrUpdate",e)},i=function(e){return a["a"].post("api-user/users/"+e+"/resetPassword")}},aede:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e623"),n("e379"),n("5dc8"),n("37e1");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},u=[],o=n("d4ec"),c=n("262e"),s=n("2caf"),i=n("9ab4"),f=n("1b40"),l=function(e){Object(c["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return n}(f["d"]);l=Object(i["a"])([Object(f["a"])({components:{},filters:{},directives:{}})],l);var d=l,h=d,p=(n("034f"),n("0c7c")),b=Object(p["a"])(h,r,u,!1,null,null,null),m=b.exports,g=(n("d3b7"),n("3ca3"),n("ddb0"),n("8c4f"));a["default"].use(g["a"]);var v=[{path:"/login",name:"Login",component:function(){return n.e("login").then(n.bind(null,"ede4"))}}],y=new g["a"]({routes:v}),O=y,j=n("0613"),k=(n("9e1f"),n("450d"),n("6ed5")),w=n.n(k),S=(n("0fb7"),n("f529")),E=n.n(S),x=(n("2986"),n("14e9")),T=n.n(x),R=(n("960d"),n("defb")),_=n.n(R),D=(n("bd49"),n("18ff")),M=n.n(D),P=(n("cb70"),n("b370")),U=n.n(P),N=(n("6611"),n("e772")),A=n.n(N),C=(n("1f1a"),n("4e4b")),I=n.n(C),H=(n("fe07"),n("6ac5")),G=n.n(H),L=(n("b5d8"),n("f494")),F=n.n(L),q=(n("a7cc"),n("df33")),B=n.n(q),J=(n("0c67"),n("299c")),$=n.n(J),Y=(n("e960"),n("b35b")),z=n.n(Y),K=(n("672e"),n("101e")),X=n.n(K),Q=(n("5466"),n("ecdf")),V=n.n(Q),W=(n("38a0"),n("ad41")),Z=n.n(W),ee=(n("f4f9"),n("c2cc")),te=n.n(ee),ne=(n("7a0f"),n("0f6c")),ae=n.n(ne),re=(n("b8e0"),n("a4c4")),ue=n.n(re),oe=(n("b84d"),n("c216")),ce=n.n(oe),se=(n("8f24"),n("76b9")),ie=n.n(se),fe=(n("8bd8"),n("4cb2")),le=n.n(fe),de=(n("ce18"),n("f58e")),he=n.n(de),pe=(n("4ca3"),n("443e")),be=n.n(pe),me=(n("de31"),n("c69e")),ge=n.n(me),ve=(n("a769"),n("5cc3")),ye=n.n(ve),Oe=(n("a673"),n("7b31")),je=n.n(Oe),ke=(n("adec"),n("3d2d")),we=n.n(ke),Se=(n("10cb"),n("f3ad")),Ee=n.n(Se),xe=(n("eca7"),n("3787")),Te=n.n(xe),Re=(n("425f"),n("4105")),_e=n.n(Re),De=(n("1951"),n("eedf")),Me=n.n(De);a["default"].use(Me.a),a["default"].use(_e.a),a["default"].use(Te.a),a["default"].use(Ee.a),a["default"].use(we.a),a["default"].use(je.a),a["default"].use(ye.a),a["default"].use(ge.a),a["default"].use(be.a),a["default"].use(he.a),a["default"].use(le.a),a["default"].use(ie.a),a["default"].use(ce.a),a["default"].use(ue.a),a["default"].use(ae.a),a["default"].use(te.a),a["default"].use(Z.a),a["default"].use(V.a),a["default"].use(X.a),a["default"].use(z.a),a["default"].use($.a),a["default"].use(B.a),a["default"].use(F.a),a["default"].use(G.a),a["default"].use(I.a),a["default"].use(A.a),a["default"].use(U.a),a["default"].use(M.a),a["default"].use(_.a),a["default"].use(T.a),a["default"].prototype.$message=E.a,a["default"].prototype.$confirm=w.a.confirm;n("aede"),n("82da"),n("4de4"),n("99af"),n("25f0");function Pe(e,t,n){if(e="string"===typeof e?e:e.toString(),t>e.length)for(var a=t-e.length;a>0;a--)e=n+e;return e}var Ue;function Ne(e){return Pe(e,2,"0")}function Ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ue.DateTime;switch(e=e instanceof Date?e:new Date(e),t){case Ue.Date:return"".concat(e.getFullYear(),"-").concat(Ne(1+e.getMonth()),"-").concat(Ne(e.getDate()));case Ue.Time:return"".concat(Ne(e.getHours()),":").concat(Ne(e.getMinutes()),":").concat(Ne(e.getSeconds()));case Ue.DateTime:return"".concat(e.getFullYear(),"-").concat(Ne(1+e.getMonth()),"-").concat(Ne(e.getDate())," ").concat(Ne(e.getHours()),":").concat(Ne(e.getMinutes()),":").concat(Ne(e.getSeconds()));case Ue.ISO:default:return e.toISOString()}}(function(e){e[e["ISO"]=0]="ISO",e[e["Date"]=1]="Date",e[e["Time"]=2]="Time",e[e["DateTime"]=3]="DateTime"})(Ue||(Ue={})),a["default"].filter("dateFormat",(function(e){return Ae(e,Ue.Date)})),a["default"].filter("dateTimeFormat",(function(e){return Ae(e,Ue.DateTime)}));var Ce=n("5530"),Ie=n("1da1"),He=(n("b0c0"),n("96cf"),n("bee2")),Ge=(n("159b"),n("6fc5")),Le=n("507d"),Fe=function(e){Object(c["a"])(a,e);var t=Object(s["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.routes=[],e.dynamicRoutes=[],e.indexRoute={path:"/index",name:"Index",redirect:"/home",component:function(){return n.e("index").then(n.bind(null,"0a0d"))},children:[{name:"blank",path:"/blank"},{path:"/home",name:"home",component:function(){return n.e("home").then(n.bind(null,"ac09"))},meta:{title:"首页"}},{path:"/test",name:"Test",component:function(){return n.e("test").then(n.bind(null,"cf62"))},meta:{title:"Test-DataTable"}}]},e.defaultRout={path:"/",redirect:"/index"},e.route404={path:"*",name:"/404",component:function(){return n.e("test").then(n.bind(null,"7746"))}},e}return Object(He["a"])(a,[{key:"getPermission",get:function(){return this.dynamicRoutes}},{key:"SET_ROUTES",value:function(e){var t=this;e.forEach((function(e){var n=t.indexRoute.children;n.push(e)})),this.routes=v.concat(this.indexRoute),this.routes.push(this.defaultRout),this.routes.push(this.route404),this.dynamicRoutes=[this.indexRoute,this.defaultRout,this.route404]}},{key:"GenerateRoutes",value:function(){var e=Le["a"].getMenus,t=[];qe(e,t),this.SET_ROUTES(t)}}]),a}(Ge["d"]);Object(i["a"])([Ge["c"]],Fe.prototype,"SET_ROUTES",null),Object(i["a"])([Ge["a"]],Fe.prototype,"GenerateRoutes",null),Fe=Object(i["a"])([Object(Ge["b"])({dynamic:!0,store:j["a"],name:"permission"})],Fe);var qe=function e(t,n){t.forEach((function(t){if(null!=t.subMenus&&t.subMenus.length>0)e(t.subMenus,n);else{var a={path:t.url,name:t.url.substr(1),component:Be(t.path),meta:{title:t.name}};n.push(a)}}))},Be=function(e){return function(t){return Promise.all([n.e("index"),n.e("chunk-ebff4324")]).then(function(){var a=[n("c48f")("./".concat(e,".vue"))];t.apply(null,a)}.bind(this)).catch(n.oe)}},Je=Object(Ge["e"])(Fe),$e=n("8b99"),Ye=$e["a"].title||"管理系统";function ze(e){return e?"".concat(e," - ").concat(Ye):"".concat(Ye)}var Ke=n("057b"),Xe=function(){return Ke["a"].get("api-user/menus/current/menus",{})},Qe=n("8ea1"),Ve=n("de5c"),We=n("323e"),Ze=n.n(We);n("a5d8");O.beforeEach(function(){var e=Object(Ie["a"])(regeneratorRuntime.mark((function e(t,n,a){var r,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(Ze.a.start(),"/login"!==t.path){e.next=3;break}return e.abrupt("return",a());case 3:if(r=j["b"].getAny("access_token"),r){e.next=8;break}return e.abrupt("return",a("/login"));case 8:u=Je.getPermission,0===u.length?(et(),tt(t,n,a)):a();case 10:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()),O.afterEach((function(e){Ze.a.done(),document.title=ze(e.meta.title)}));var et=function(){var e=Object(Ie["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(Qe["c"])();case 2:t=e.sent,n=t.code,a=t.data,r=t.msg,console.log(a),0===n?Ve["a"].changeUser(a):console.log(r||"获取用户失败！");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),tt=function(){var e=Object(Ie["a"])(regeneratorRuntime.mark((function e(t,n,a){var r,u,o,c,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Xe();case 2:r=e.sent,u=r.code,o=r.data,c=r.msg,0===u?(console.log(o),s=o.filter((function(e){return e.name.indexOf("vue")>-1})),Le["a"].changeMenu(s),Je.GenerateRoutes(),O.addRoutes(Je.dynamicRoutes),a(Object(Ce["a"])(Object(Ce["a"])({},t),{},{replace:!0}))):console.log(c||"获取当前用户菜单失败！");case 7:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();a["default"].config.productionTip=!1,new a["default"]({router:O,store:j["a"],render:function(e){return e(m)}}).$mount("#app"),console.log("production")},de5c:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("d4ec"),r=n("bee2"),u=n("262e"),o=n("2caf"),c=n("9ab4"),s=n("6fc5"),i=n("0613"),f=function(e){Object(u["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(a["a"])(this,n),t.apply(this,arguments)}return Object(r["a"])(n,[{key:"getUser",get:function(){return this.user}},{key:"CHANGE_USER",value:function(e){this.user=e}},{key:"changeUser",value:function(e){console.log("action:"+e),this.CHANGE_USER(e)}}]),n}(s["d"]);Object(c["a"])([s["c"]],f.prototype,"CHANGE_USER",null),Object(c["a"])([s["a"]],f.prototype,"changeUser",null),f=Object(c["a"])([Object(s["b"])({dynamic:!0,store:i["a"],name:"user"})],f);var l=Object(s["e"])(f)},ecfe:function(e,t,n){}});
//# sourceMappingURL=app.5b507029.js.map